{% load static %}
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>Search - Blog Book</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

     <!-- CSS
    ================================================== -->
    <link href="{% static 'css/fontawesome.css' %}" rel="stylesheet" media="all">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/vendor.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <!-- script
    ================================================== -->
     <script src="{% static 'js/modernizr.js ' %}"></script>
    <script src="{% static 'js/pace.min.js ' %}"></script>
    <script src="{% static 'js/general.js ' %}"></script>

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'images/B.png' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'images/B.png' %}" type="image/x-icon">

</head>

<body id="top">

    <!-- pageheader
    ================================================== -->
     {% include "main/header1.html" %}

     

    <!-- s-content
    ================================================== -->
    <section class="s-content">

        <div class="row narrow">
            <div class="col-full s-content__header" data-aos="fade-up">
                <h1>Search Result</h1>

              
            </div>
        </div>
        
        <section class="s-extra details_main">

        <div class="row top">
        {% if blog|length < 1 %}
            <p>No search results</p>
            Your search query : <b>{{query}}</b> did not match any documents. <br>
            Suggestions:
            <ul>
                <li>Make sure that all words are spelled correctly.</li>
                <li>Try more general keywords.</li>
                <li> Try fewer keywords.</li>
                <li> Try different keywords.</li>
                
            </ul>


        {% else%}
            <h1>Blog</h1>
            
            <div class="row masonry-wrap">
            <div class="masonry">

                <div class="grid-sizer"></div>
                
                {% for a in blog %}
                <article class="masonry__brick entry format-standard" data-aos="fade-up">
                        
                    <div class="entry__thumb">
                        <a href="{{ a.template.templatename }}?blogtitle={{ a.blogTitle }}" class="entry__thumb-link">
                            <img src="{{ a.blogProfile.url }}" 
                                     alt="">
                        </a>
                    </div>
    
                    <div class="entry__text">
                        <div class="entry__header">
                            
                            <div class="entry__date">
                                <a href="#">{{ a.blogDate }}</a>
                            </div>
                            <h1 class="entry__title"><a href="{{ a.template.templatename }}?blogtitle={{ a.blogTitle }}">{{ a.blogTitle }}</a></h1>
                            
                        </div>
                        <!-- <div class="entry__excerpt">
                            <p>
                                Lorem ipsum Sed eiusmod esse aliqua sed incididunt aliqua incididunt mollit id et sit proident dolor nulla sed commodo est ad minim elit reprehenderit nisi officia aute incididunt velit sint in aliqua...
                            </p>
                        </div> -->
                        <div class="entry__meta">
                            <span class="entry__meta-links">
                                <a href="category?cat={{a.blogAssociated.blogCatagories}}">{{a.blogCatagories}}</a> 
                            </span>
                        </div>
                        <div class="dropdown report" >
                            <i class="fa fa-ellipsis-h dropbtn"></i>
                            <div class="dropdown-content">
                                <a href="report?blogtitle={{i.blogTitle}}"><i class="fa fa-flag" aria-hidden="true"></i>    Report</a>
                                
                            </div>
                        </div>
                    </div>
                    
                </article>
                {% endfor %}
                
                
            </div> <!-- end masonry -->
        </div> <!-- end masonry-wrap -->

           


                
        {% endif %}
        </div>
    </section>

        <!-- <div class="row">
            <div class="col-full">
                <nav class="pgn">
                    <ul>
                        <li><a class="pgn__prev" href="#0">Prev</a></li>
                        <li><a class="pgn__num" href="#0">1</a></li>
                        <li><span class="pgn__num current">2</span></li>
                        <li><a class="pgn__num" href="#0">3</a></li>
                        <li><a class="pgn__num" href="#0">4</a></li>
                        <li><a class="pgn__num" href="#0">5</a></li>
                        <li><span class="pgn__num dots">â€¦</span></li>
                        <li><a class="pgn__num" href="#0">8</a></li>
                        <li><a class="pgn__next" href="#0">Next</a></li>
                    </ul>
                </nav>
            </div>
        </div>
 -->
    </section> <!-- s-content -->
    

    <!-- s-extra
    ================================================== -->
    
    {% include "main/footer.html" %}

    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader">
            <div class="line-scale">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>


     <!-- Java Script
    ================================================== -->
    <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'js/plugins.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>

    <script type="text/javascript">
        function AddReadMore() {
        //This limit you can set after how much characters you want to show Read More.
        var carLmt = 200;
        // Text to show when text is collapsed
        var readMoreTxt = " ... Read More";
        // Text to show when text is expanded
        var readLessTxt = " Read Less";


        //Traverse all selectors with this class and manupulate HTML part to show Read More
        $(".addReadMore").each(function() {
            if ($(this).find(".firstSec").length)
                return;

            var allstr = $(this).text();
            if (allstr.length > carLmt) {
                var firstSet = allstr.substring(0, carLmt);
                var secdHalf = allstr.substring(carLmt, allstr.length);
                var strtoadd = firstSet + "<span class='SecSec'>" + secdHalf + "</span><span class='readMore'  title='Click to Show More'>" + readMoreTxt + "</span><span class='readLess' title='Click to Show Less'>" + readLessTxt + "</span>";
                $(this).html(strtoadd);
            }

        });
        //Read More and Read Less Click Event binding
        $(document).on("click", ".readMore,.readLess", function() {
            $(this).closest(".addReadMore").toggleClass("showlesscontent showmorecontent");
        });
        }
        $(function() {
            //Calling function after Page Load
            AddReadMore();
        });

        $(document).ready(function(){
            $(".dropbtn").click(function(){
                $('.dropdown-content').hide();
                $(this).parent().children('.dropdown-content').toggle(500);
            });
        });
    </script>
    
</body>

</html>